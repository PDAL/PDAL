<?xml version="1.0" encoding="utf-8"?>
<Pipeline version="1.0">
    <Writer type="writers.las">
        <Option name="filename">
            cropped.las
        </Option>
        <Option name="compression">
            false
        </Option>
        <Filter type="filters.selector">
            <Option name="ignore_default">true</Option>
            <Option name="keep">
                <Options>
                    <Option name="dimension">X</Option>
                    <Option name="dimension">Y</Option>
                    <Option name="dimension">Z</Option>
                    <Option name="dimension">ReturnNumber</Option>
                    <Option name="dimension">NumberOfReturns</Option>
                    <Option name="dimension">ScanDirectionFlag</Option>
                    <Option name="dimension">EdgeOfFlightLine</Option>
                    <Option name="dimension">ScanAngleRank</Option>
                    <Option name="dimension">UserData</Option>
                    <Option name="dimension">PointSourceId</Option>
                    <Option name="dimension">Time</Option>
                    <Option name="dimension">Red</Option>
                    <Option name="dimension">Green</Option>
                    <Option name="dimension">Blue</Option>
                    <Option name="dimension">Intensity</Option>
                    <Option name="dimension">Classification</Option>
                </Options>
            </Option>
            <Filter type="filters.inplacereprojection">
                <Option name="out_srs">EPSG:4326</Option>
                <Option name="scale_x">1e-09</Option>
                <Option name="scale_z">1e-09</Option>
                <Option name="scale_y">1e-02</Option>
                <Filter type="filters.crop">
                    <Option name="outside">false</Option>
                    <Option name="y_dim">filters.inplacereprojection.Y</Option>
                    <Option name="z_dim">filters.inplacereprojection.Z</Option>
                    <Option name="polygon">POLYGON ((-123.070314549836326 44.057089038234523 128.839019531250017,-123.070271177640294 44.056943121718128 128.768772656250007,-123.070271177640294 44.056943121718128 128.768772656250007,-123.070162496376781 44.056998992754814 128.790203906250014,-123.070162496376781 44.056998992754814 128.790203906250014,-123.070162496376781 44.056998992754814 128.790203906250014,-123.069979815780442 44.057056534650307 129.281039062500014,-123.069979815780442 44.057056534650307 129.281039062500014,-123.069623686406757 44.056957742249139 133.718796093750001,-123.069379714822247 44.056883125172284 129.829619531250017,-123.069379714822247 44.056883125172284 129.829619531250017,-123.068598673177377 44.056807275529749 129.79003125,-123.068598673177377 44.056807275529749 129.79003125,-123.068050582141012 44.056125226865895 132.779988281250013,-123.067553352907268 44.054907861533373 128.171376562500001,-123.068843051960528 44.054331237272599 128.259780468749994,-123.070711485369316 44.054716382450835 132.46893750000001,-123.071590310377303 44.055764863600942 128.82056484375002,-123.070314549836326 44.057089038234523 128.839019531250017))</Option>
                    <Option name="x_dim">filters.inplacereprojection.X</Option>             
                    <!-- <Option name="outside">false</Option>
                    <Option name="y_dim">readers.las.Y</Option>
                    <Option name="z_dim">readers.las.Z</Option>
                    <Option name="x_dim">readers.las.X</Option>            
                    <Option name="polygon">POLYGON ((636889.412951239268295 851528.512293258565478 422.7001953125,636899.14233423944097 851475.000686757150106 422.4697265625,636899.14233423944097 851475.000686757150106 422.4697265625,636928.33048324030824 851494.459452757611871 422.5400390625,636928.33048324030824 851494.459452757611871 422.5400390625,636928.33048324030824 851494.459452757611871 422.5400390625,636976.977398241520859 851513.918218758190051 424.150390625,636976.977398241520859 851513.918218758190051 424.150390625,637069.406536744092591 851475.000686757150106 438.7099609375,637132.647526245797053 851445.812537756282836 425.9501953125,637132.647526245797053 851445.812537756282836 425.9501953125,637336.964569251285866 851411.759697255445644 425.8203125,637336.964569251285866 851411.759697255445644 425.8203125,637473.175931254867464 851158.795739248627797 435.6298828125,637589.928527257987298 850711.244121236610226 420.509765625,637244.535430748714134 850511.791769731207751 420.7998046875,636758.066280735656619 850667.461897735483944 434.609375,636539.155163229792379 851056.63721774588339 422.6396484375,636889.412951239268295 851528.512293258565478 422.7001953125))
</Option> -->
                    <Reader type="readers.las">
                            <Option name="filename">
                                /Users/hobu/dev/git/pdal/test/data/local/autzen-colorized-1.2-3.las
                            </Option>
                            <Option name="spatialreference">
                                EPSG:2994
                            </Option>
                            <!-- <Option name="log">
                                oracle-pipeline-write.log
                            </Option>     -->
                    </Reader>

                </Filter>
            </Filter>
        </Filter>
    </Writer>
</Pipeline>
